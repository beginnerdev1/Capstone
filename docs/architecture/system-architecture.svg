<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1200 720" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#333"/>
    </marker>
    <style>
      .node { fill:#fff; stroke:#333; stroke-width:1.2; rx:8; }
      .box { fill:#f6f9ff; stroke:#b3c7f7; rx:8; stroke-width:1.6; }
      .label { font-family: Arial, Helvetica, sans-serif; font-size:13px; fill:#111; }
      .sub { font-size:11px; fill:#222; }
      .note { font-size:11px; fill:#555; }
    </style>
  </defs>

  <!-- Browser clients -->
  <rect x="40" y="30" width="200" height="80" class="box"/>
  <text x="140" y="58" class="label" text-anchor="middle">Browser Clients</text>
  <text x="140" y="76" class="sub" text-anchor="middle">Users & Admins</text>

  <!-- Load balancer -->
  <rect x="300" y="40" width="160" height="60" class="node"/>
  <text x="380" y="68" class="label" text-anchor="middle">Load Balancer / CDN</text>

  <!-- Web server -->
  <rect x="520" y="28" width="160" height="70" class="box"/>
  <text x="600" y="56" class="label" text-anchor="middle">Web Server</text>
  <text x="600" y="74" class="sub" text-anchor="middle">Nginx / Apache</text>

  <!-- PHP FPM -->
  <rect x="770" y="28" width="160" height="70" class="box"/>
  <text x="850" y="56" class="label" text-anchor="middle">PHP-FPM</text>
  <text x="850" y="74" class="sub" text-anchor="middle">CodeIgniter 4</text>

  <!-- Database tile -->
  <rect x="520" y="180" width="160" height="70" class="node"/>
  <text x="600" y="210" class="label" text-anchor="middle">DB</text>
  <text x="600" y="230" class="sub" text-anchor="middle">MySQL / MariaDB</text>

  <!-- Redis -->
  <rect x="770" y="180" width="160" height="70" class="node"/>
  <text x="850" y="210" class="label" text-anchor="middle">Redis</text>
  <text x="850" y="230" class="sub" text-anchor="middle">Sessions / PubSub / Cache</text>

  <!-- Storage -->
  <rect x="520" y="320" width="160" height="70" class="node"/>
  <text x="600" y="350" class="label" text-anchor="middle">Object Storage</text>
  <text x="600" y="370" class="sub" text-anchor="middle">(S3) for uploads & exports</text>

  <!-- Worker -->
  <rect x="770" y="320" width="160" height="70" class="box"/>
  <text x="850" y="350" class="label" text-anchor="middle">Worker Pool</text>
  <text x="850" y="370" class="sub" text-anchor="middle">Queues & background jobs</text>

  <!-- SSE / WebSocket Broker -->
  <rect x="300" y="220" width="160" height="70" class="box"/>
  <text x="380" y="250" class="label" text-anchor="middle">SSE / WS Broker</text>
  <text x="380" y="270" class="sub" text-anchor="middle">(Broker & Push Service)</text>

  <!-- Payment & Email providers -->
  <rect x="40" y="200" width="200" height="60" class="node"/>
  <text x="140" y="230" class="label" text-anchor="middle">Payment Provider</text>
  <text x="140" y="245" class="sub" text-anchor="middle">GCash / Provider</text>

  <rect x="40" y="280" width="200" height="60" class="node"/>
  <text x="140" y="310" class="label" text-anchor="middle">Email Provider</text>
  <text x="140" y="325" class="sub" text-anchor="middle">Brevo / Sendinblue</text>

  <!-- Observability -->
  <rect x="40" y="380" width="120" height="60" class="node"/>
  <text x="100" y="410" class="label" text-anchor="middle">Logging</text>
  <rect x="180" y="380" width="120" height="60" class="node"/>
  <text x="240" y="410" class="label" text-anchor="middle">Monitoring</text>

  <!-- Arrows -->
  <line x1="240" y1="70" x2="300" y2="70" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="460" y1="70" x2="520" y2="70" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="680" y1="70" x2="770" y2="70" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="850" y1="100" x2="850" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="680" y1="100" x2="600" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="850" y1="250" x2="850" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="600" y1="250" x2="600" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="300" y1="250" x2="300" y2="220" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="380" y1="250" x2="520" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="120" y1="230" x2="300" y2="70" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="120" y1="300" x2="300" y2="70" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="900" y1="350" x2="900" y2="410" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="140" y1="420" x2="380" y2="120" stroke="#666" stroke-width="1.6" marker-end="url(#arrow)"/>

  <!-- Notes -->
  <text x="40" y="470" class="note">Notes: Redis for session & pub/sub; Worker processes for heavy tasks; SSE broker relays chat updates.</text>

</svg>
